{"version":"v1.3.1","websiteSettings":[{"id":"2EBB4E5E-6363-42AB-A56A-6A7E4DD64459","enabled":"auto","cssEnabled":false,"darkMode":"auto","url":"amazon.com","startUpMode":"auto","css":"","script":"\/\/ Go to next page\nsettings.map('V', function(vimlike) {\n    vimlike.click('\/\/a[contains(@aria-label, \"次のページ (2ページ) に移動\")]');\n});\n\n\/\/ Go to previous page\nsettings.map('B', function(vimlike) {\n    vimlike.click('\/\/a[contains(@aria-label, \"Go to previous page\")]');\n});\n\n\/\/ Go to next page\nsettings.map('V', function(vimlike) {\n    vimlike.click('\/\/a[contains(@aria-label, \"Go to next page\")]');\n});\n\n\/\/ Go to previous page\nsettings.map('B', function(vimlike) {\n    vimlike.click('\/\/a[contains(@aria-label, \"Go to previous page\")]');\n});","scriptEnabled":true},{"id":"A80AC563-EF1C-47EF-ADC8-60146CEC3989","enabled":"auto","cssEnabled":false,"darkMode":"auto","url":"google.com","startUpMode":"auto","css":"","script":"settings.map('B', function(vimlike) {\n    vimlike.click('\/\/a[@id=\"pnprev\"]');\n});\n\nsettings.map('V', function(vimlike) {\n    vimlike.click('\/\/a[@id=\"pnnext\"]');\n});\n\n\/\/ ==UserScript==\n\/\/ @name        YouTube Speed Control with Feedback\n\/\/ @match       *:\/\/www.youtube.com\/*\n\/\/ ==\/UserScript==\n\n\/\/ 创建并显示提示文本\nfunction showSpeedNotification(speed) {\n  let existing = document.getElementById('vimlike-speed-indicator');\n  if (!existing) {\n    existing = document.createElement('div');\n    existing.id = 'vimlike-speed-indicator';\n    existing.style.position = 'fixed';\n    existing.style.top = '10%';\n    existing.style.left = '50%';\n    existing.style.transform = 'translateX(-50%)';\n    existing.style.padding = '10px 20px';\n    existing.style.background = 'rgba(0, 0, 0, 0.7)';\n    existing.style.color = '#fff';\n    existing.style.fontSize = '20px';\n    existing.style.borderRadius = '8px';\n    existing.style.zIndex = '9999';\n    existing.style.transition = 'opacity 0.3s';\n    document.body.appendChild(existing);\n  }\n\n  existing.textContent = `速度：${speed.toFixed(2)}x`;\n  existing.style.opacity = '1';\n\n  clearTimeout(existing._timeout);\n  existing._timeout = setTimeout(() => {\n    existing.style.opacity = '0';\n  }, 1000);\n}\n\n\/\/ 减速：Shift + J\nVimlike.map('J', () => {\n  const video = document.querySelector('video');\n  if (video) {\n    video.playbackRate = Math.max(0.5, video.playbackRate - 0.25);\n    showSpeedNotification(video.playbackRate);\n  }\n}, { shift: true });\n\n\/\/ 加速：Shift + L\nVimlike.map('L', () => {\n  const video = document.querySelector('video');\n  if (video) {\n    video.playbackRate = Math.min(4.0, video.playbackRate + 0.25);\n    showSpeedNotification(video.playbackRate);\n  }\n}, { shift: true });\n","scriptEnabled":true},{"id":"41D42B93-2FFB-468E-B9CA-9AF1BD512370","enabled":"auto","cssEnabled":false,"darkMode":"auto","url":"youtube.com","startUpMode":"auto","css":"","script":"\/\/ Go to Home\nsettings.map('g h', function(vimlike) {\n    window.open(\"https:\/\/www.youtube.com\", \"_self\");\n});\n\n\/\/ settings.map('bracketleft', function(vimlike) {\n\/\/    vimlike.click('shift+n');\n\/\/ });\n\n\/\/settings.map('bracketright', function(vimlike) {\n\/\/    vimlike.click('shift+p');\n\/\/});\n\n\n\/\/ 显示速度浮动提示\nfunction showSpeedOverlay(speed) {\n    var overlay = document.createElement(\"div\");\n    overlay.innerText = \"速度: \" + speed + \"x\";\n    overlay.style.position = \"fixed\";\n    overlay.style.bottom = \"20px\";\n    overlay.style.right = \"20px\";\n    overlay.style.padding = \"10px 15px\";\n    overlay.style.backgroundColor = \"rgba(0,0,0,0.7)\";\n    overlay.style.color = \"white\";\n    overlay.style.fontSize = \"16px\";\n    overlay.style.borderRadius = \"8px\";\n    overlay.style.zIndex = \"9999\";\n    document.body.appendChild(overlay);\n    setTimeout(function() {\n        document.body.removeChild(overlay);\n    }, 1500);\n}\n\n\/\/ 恢复正常速度 (1x)\nsettings.map('U', function(vimlike) {\n    var videos = document.querySelectorAll(\"video\");\n    for (var video of videos) {\n        video.playbackRate = 1;\n    }\n    console.log(\"Playback speed reset to 1x\");\n    showSpeedOverlay(1);\n});\n\n\/\/ P键: 从 2.25x 开始，每次 +0.25，到 4x 为止\nsettings.map('bracketright', function(vimlike) {\n    var videos = document.querySelectorAll(\"video\");\n    for (var video of videos) {\n        var current = video.playbackRate;\n        var newSpeed = 0;\n        if (current < 2.25) {\n            newSpeed = 2.25;\n        } else if (current < 4) {\n            newSpeed = Math.round((current + 0.25) * 100) \/ 100;\n            if (newSpeed > 4) newSpeed = 4;\n        } else {\n            newSpeed = 4;\n        }\n        video.playbackRate = newSpeed;\n    }\n    var speed = videos[0] ? videos[0].playbackRate : 'N\/A';\n    console.log(\"P key playback speed set to \" + speed + \"x\");\n    showSpeedOverlay(speed);\n});\n\n\/\/ O键: 每次 -0.25，最低到 0.5x\nsettings.map('bracketleft', function(vimlike) {\n    var videos = document.querySelectorAll(\"video\");\n    for (var video of videos) {\n        var current = video.playbackRate;\n        var newSpeed = Math.max(0.5, Math.round((current - 0.25) * 100) \/ 100);\n        video.playbackRate = newSpeed;\n    }\n    var speed = videos[0] ? videos[0].playbackRate : 'N\/A';\n    console.log(\"O key playback speed decreased to \" + speed + \"x\");\n    showSpeedOverlay(speed);\n});\n","scriptEnabled":true},{"id":"F9B4EA0B-C60A-4E8A-B858-C5713C4057F4","enabled":"auto","cssEnabled":false,"darkMode":"auto","url":"supjav.com","startUpMode":"auto","css":"","script":"settings.map('v', function(vimlike) {\n    vimlike.click('\/\/a[text()=\">\"]');\n});\n\nsettings.map('b', function(vimlike) {\n    vimlike.click('\/\/a[text()=\"<\"]');\n});\n\nsettings.map('2', function(vimlike) {\n    vimlike.click('\/\/a[text()=\"有修正\"]');\n});\n\nsettings.map('3', function(vimlike) {\n    vimlike.click('\/\/a[text()=\"無修正\"]');\n});\n\nsettings.map('4', function(vimlike) {\n    vimlike.click('\/\/a[text()=\"モザイク破壊\"]');\n});\n\n\n\/\/ 通用搜索（优先使用选中文字）\nsettings.map('g e', function(vimlike) {\n    var selected = window.getSelection().toString().trim();\n    if (selected) {\n        window.open(\"https:\/\/supjav.com\/ja\/?s=\" + encodeURIComponent(selected), \"_blank\");\n    } else {\n        var query = prompt(\"search supjav:\");\n        if (query) {\n            window.open(\"https:\/\/supjav.com\/ja\/?s=\" + encodeURIComponent(query), \"_blank\");\n        }\n    }\n});\n\nsettings.map('g d', function(vimlike) {\n    var selected = window.getSelection().toString().trim();\n    if (selected) {\n        window.open(\"https:\/\/www.dmm.co.jp\/search\/=\/searchstr=\" + encodeURIComponent(selected), \"_blank\");\n    } else {\n        var query = prompt(\"search dmm:\");\n        if (query) {\n            window.open(\"https:\/\/www.dmm.co.jp\/search\/=\/searchstr=\" + encodeURIComponent(query), \"_blank\");\n        }\n    }\n});\n\nsettings.map('g v', function(vimlike) {\n    var selected = window.getSelection().toString().trim();\n    if (selected) {\n        window.open(\"https:\/\/fc2ppvdb.com\/articles\/\" + encodeURIComponent(selected), \"_blank\");\n    } else {\n        var query = prompt(\"search fc2ppvdb:\");\n        if (query) {\n            window.open(\"https:\/\/fc2ppvdb.com\/articles\/\" + encodeURIComponent(query), \"_blank\");\n        }\n    }\n});\n\n\nsettings.map('m', function(vimlike) {\n    var video = document.querySelector('video');\n    if (!video) return;\n\n    if (video.muted) {\n        \/\/ 当前静音，尝试取消静音并播放\n        \/\/ iOS Safari 要求用户手势 + 视频播放才能取消静音\n        video.play().then(() => {\n            video.muted = false;\n        }).catch(() => {\n            \/\/ 播放被阻止，保持静音状态\n            console.log(\"播放被阻止，需要用户交互\");\n        });\n    } else {\n        \/\/ 当前已取消静音，切换回静音\n        video.muted = true;\n    }\n});\n","scriptEnabled":true},{"id":"CF7464B5-8BD1-464A-9537-2270DE4A8F2D","enabled":"auto","cssEnabled":false,"darkMode":"auto","url":"spankbang.com","startUpMode":"auto","css":"","script":"settings.map('v', function(vimlike) {\n    vimlike.click('\/\/li[contains(@class,\"next\")]\/a');\n});\n\nsettings.map('p', function(vimlike) {\n    var btn = document.querySelector('button.vjs-play-control');\n    if (btn) {\n        btn.click();\n    }\n});\n\nsettings.map('9', function(vimlike) {\n    \/\/ 获取所有包含评价值的元素\n    const videoItems = document.querySelectorAll('[data-testid=\"video-item\"]');\n\n    videoItems.forEach(item => {\n        const rateElement = item.querySelector('[data-testid=\"rates\"] .md\\\\:text-body-md');\n        if (rateElement) {\n            const text = rateElement.textContent.trim().replace('%', '');\n            const rate = parseFloat(text);\n            if (rate < 90) {\n                \/\/ 评价值小于 90%，变灰处理\n                item.style.opacity = '0.3';\n            } else {\n                \/\/ 满足条件的高亮显示\n                item.style.opacity = '1';\n            }\n        } else {\n            \/\/ 没有评价信息的也变灰\n            item.style.opacity = '0.3';\n        }\n    });\n});\n\n\nsettings.map('0', function(vimlike) {\n    const videoItems = document.querySelectorAll('[data-testid=\"video-item\"]');\n\n    videoItems.forEach(item => {\n        const rateElement = item.querySelector('[data-testid=\"rates\"] .md\\\\:text-body-md');\n        if (rateElement) {\n            const text = rateElement.textContent.trim().replace('%', '');\n            const rate = parseFloat(text);\n            if (rate < 90) {\n                \/\/ 隐藏评价值小于 90% 的视频\n                item.style.display = 'none';\n            } else {\n                item.style.display = '';\n            }\n        } else {\n            \/\/ 没有评价信息的也隐藏\n            item.style.display = 'none';\n        }\n    });\n});\n\nsettings.map('8', function(vimlike) {\n    const container = document.querySelector('#video_theater') || document.body; \/\/ 容器节点\n    const items = Array.from(document.querySelectorAll('[data-testid=\"video-item\"]'));\n\n    const withRate = items.map(item => {\n        const rateEl = item.querySelector('[data-testid=\"rates\"] .md\\\\:text-body-md');\n        const rate = rateEl ? parseFloat(rateEl.textContent.trim().replace('%', '')) : -1;\n        return { item, rate };\n    });\n\n    withRate.sort((a, b) => b.rate - a.rate); \/\/ 从高到低排序\n\n    \/\/ 清空父容器中的旧排序内容（只移除原有项目）\n    withRate.forEach(({ item }) => item.remove());\n\n    \/\/ 插入新排序后的项目\n    withRate.forEach(({ item }) => container.appendChild(item));\n});\n\n\n\/\/ 通用搜索（优先使用选中文字）\nsettings.map('g e', function(vimlike) {\n    var selected = window.getSelection().toString().trim();\n    if (selected) {\n        window.open(\"https:\/\/supjav.com\/ja\/?s=\" + encodeURIComponent(selected), \"_blank\");\n    } else {\n        var query = prompt(\"search supjav:\");\n        if (query) {\n            window.open(\"https:\/\/supjav.com\/ja\/?s=\" + encodeURIComponent(query), \"_blank\");\n        }\n    }\n});\n\nsettings.map('g d', function(vimlike) {\n    var selected = window.getSelection().toString().trim();\n    if (selected) {\n        window.open(\"https:\/\/www.dmm.co.jp\/search\/=\/searchstr=\" + encodeURIComponent(selected), \"_blank\");\n    } else {\n        var query = prompt(\"search dmm:\");\n        if (query) {\n            window.open(\"https:\/\/www.dmm.co.jp\/search\/=\/searchstr=\" + encodeURIComponent(query), \"_blank\");\n        }\n    }\n});\n\nsettings.map('g v', function(vimlike) {\n    var selected = window.getSelection().toString().trim();\n    if (selected) {\n        window.open(\"https:\/\/fc2ppvdb.com\/articles\/\" + encodeURIComponent(selected), \"_blank\");\n    } else {\n        var query = prompt(\"search fc2ppvdb:\");\n        if (query) {\n            window.open(\"https:\/\/fc2ppvdb.com\/articles\/\" + encodeURIComponent(query), \"_blank\");\n        }\n    }\n});\n\n\nsettings.map('m', function(vimlike) {\n    var video = document.querySelector('video');\n    if (!video) return;\n\n    if (video.muted) {\n        \/\/ 当前静音，尝试取消静音并播放\n        \/\/ iOS Safari 要求用户手势 + 视频播放才能取消静音\n        video.play().then(() => {\n            video.muted = false;\n        }).catch(() => {\n            \/\/ 播放被阻止，保持静音状态\n            console.log(\"播放被阻止，需要用户交互\");\n        });\n    } else {\n        \/\/ 当前已取消静音，切换回静音\n        video.muted = true;\n    }\n});","scriptEnabled":true},{"id":"B9EC3EC1-F99B-4926-B958-065A5B78A6C6","enabled":"auto","cssEnabled":false,"darkMode":"auto","url":"fc2ppvdb.com","startUpMode":"auto","css":"","script":"settings.map('v', function(vimlike) {\n    vimlike.click('\/\/a[contains(@aria-label, \"次\")]');\n});\n\n\nsettings.map('b', function(vimlike) {\n    vimlike.click('\/\/a[contains(@aria-label, \"前\")]');\n});\n\n\n\n\/\/ 通用搜索（优先使用选中文字）\nsettings.map('g e', function(vimlike) {\n    var selected = window.getSelection().toString().trim().slice(0, 7);\n    if (selected) {\n        window.open(\"https:\/\/supjav.com\/ja\/?s=\" + encodeURIComponent(selected), \"_blank\");\n    } else {\n        var query = prompt(\"search supjav:\");\n        if (query) {\n            window.open(\"https:\/\/supjav.com\/ja\/?s=\" + encodeURIComponent(query), \"_blank\");\n        }\n    }\n});\n\nsettings.map('g d', function(vimlike) {\n    var selected = window.getSelection().toString().trim();\n    if (selected) {\n        window.open(\"https:\/\/www.dmm.co.jp\/search\/=\/searchstr=\" + encodeURIComponent(selected), \"_blank\");\n    } else {\n        var query = prompt(\"search dmm:\");\n        if (query) {\n            window.open(\"https:\/\/www.dmm.co.jp\/search\/=\/searchstr=\" + encodeURIComponent(query), \"_blank\");\n        }\n    }\n});\n\nsettings.map('g v', function(vimlike) {\n    var selected = window.getSelection().toString().trim();\n    if (selected) {\n        window.open(\"https:\/\/fc2ppvdb.com\/articles\/\" + encodeURIComponent(selected), \"_blank\");\n    } else {\n        var query = prompt(\"search fc2ppvdb:\");\n        if (query) {\n            window.open(\"https:\/\/fc2ppvdb.com\/articles\/\" + encodeURIComponent(query), \"_blank\");\n        }\n    }\n});\n\n\nsettings.map('m', function(vimlike) {\n    var video = document.querySelector('video');\n    if (!video) return;\n\n    if (video.muted) {\n        \/\/ 当前静音，尝试取消静音并播放\n        \/\/ iOS Safari 要求用户手势 + 视频播放才能取消静音\n        video.play().then(() => {\n            video.muted = false;\n        }).catch(() => {\n            \/\/ 播放被阻止，保持静音状态\n            console.log(\"播放被阻止，需要用户交互\");\n        });\n    } else {\n        \/\/ 当前已取消静音，切换回静音\n        video.muted = true;\n    }\n});\n","scriptEnabled":true},{"id":"1E76FEC1-416E-4FB5-A58C-52FE08602C03","enabled":"auto","cssEnabled":false,"darkMode":"auto","url":"chatgpt.com","startUpMode":"view","css":"","script":"\/\/ Focus ChatGPT input box\nsettings.map('i', function(vimlike) {\n    \/\/ ChatGPT の入力欄は contenteditable な div\n    var box = document.querySelector('div[contenteditable=\"true\"]');\n    if (box) {\n        box.focus();\n        \/\/ キャレットを末尾に移動（入力準備OK）\n        var range = document.createRange();\n        range.selectNodeContents(box);\n        range.collapse(false);\n        var sel = window.getSelection();\n        sel.removeAllRanges();\n        sel.addRange(range);\n    }\n});","scriptEnabled":true},{"id":"024A98B2-1DB2-4E79-8D6D-9AD24ABBB8C6","enabled":"auto","cssEnabled":false,"darkMode":"auto","url":"gemini.google.com","startUpMode":"view","css":"","script":"\/\/ Geminiの入力ボックスにフォーカスを当てる\nsettings.map('i', function(vimlike) {\n    function focusInput() {\n        \/\/ 現在のGeminiページでより確実に動作するセレクターを使用\n        \/\/ data-placeholderや特定のクラスに依存しない方法を試します\n        const box = document.querySelector('div.query-box[contenteditable=\"true\"]') ||\n                    document.querySelector('textarea.query-box');\n        \n        if (!box) {\n            \/\/ 入力ボックスがまだ描画されていなければ、少し待って再試行\n            setTimeout(focusInput, 200);\n            return;\n        }\n\n        \/\/ 入力ボックスにフォーカス\n        box.focus();\n\n        \/\/ カーソルを末尾に移動\n        \/\/ これはcontenteditableのdivにのみ適用\n        if (box.tagName.toLowerCase() === 'div') {\n            const sel = window.getSelection();\n            const range = document.createRange();\n            try {\n                range.selectNodeContents(box);\n                sel.removeAllRanges();\n                sel.addRange(range);\n                sel.collapseToEnd();\n            } catch(e) {\n                console.log(\"Gemini入力ボックスのフォーカスに失敗:\", e);\n            }\n        }\n    }\n\n    focusInput();\n});","scriptEnabled":true}]}